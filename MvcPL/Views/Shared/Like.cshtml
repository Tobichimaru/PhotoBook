@model MvcPL.Models.Photo.PhotoViewModel
<div id=@Model.Id.ToString()>
    @using (Ajax.BeginForm("Like", "Photo", new { photoId = Model.Id, name = Model.UserName },
            new AjaxOptions { UpdateTargetId = Model.Id.ToString(), InsertionMode = InsertionMode.ReplaceWith }))
    {
        if (Model.Likes.FirstOrDefault(l => l.UserName == User.Identity.Name) == null)
        {
            <input style="margin-top: 5px; float: left" type="submit" value="Like!" class="btn btn-lg btn-default"/>
        }  
        else
        {
            <input style="margin-top: 5px; float: left" type="submit" value="Like!" class="btn btn-lg btn-danger"/>
        }
        <p style="padding-top: 15px;">&nbsp @Model.Likes.Count liked this</p>
    }
</div>
